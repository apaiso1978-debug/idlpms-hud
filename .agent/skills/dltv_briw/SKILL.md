---
name: DLTV Briw (Harvest)
description: ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å DLTV/DLIT ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Ç‡πâ‡∏≤ 7 Steps Learning Model + Deep Enrichment + Activity Matcher
---

# DLTV Briw (Harvest) Skill

## Overview
‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ "Briw" ‡∏´‡∏£‡∏∑‡∏≠ "Harvest" ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö DLTV/DLIT ‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö IDLPMS 7 Steps Learning Model ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏≤‡∏Å PDF + Web Search + AI ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö

## Entry Point
**BASE URL**: `https://dltv.ac.th/teachplan/lists/5/18000`
- ‡πÉ‡∏ä‡πâ URL ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏™‡∏°‡∏≠
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡∏ä‡∏±‡πâ‡∏ô/‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏ú‡πà‡∏≤‡∏ô **Sidebar ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ URL pattern ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡πà‡∏ß)

## Navigation Rules
1. **Sidebar ‡∏Ç‡∏ß‡∏≤** = Source of Truth ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ / ‡∏ä‡∏±‡πâ‡∏ô / ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞ / ‡∏´‡∏ô‡πà‡∏ß‡∏¢ / ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á / ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
2. **1 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ** = 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô = 7 Steps ‡∏Ñ‡∏£‡∏ö
3. **‡∏à‡∏≥‡∏Å‡∏±‡∏î 20 ‡∏´‡∏ô‡πà‡∏ß‡∏¢** ‡∏ï‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤/‡∏ä‡∏±‡πâ‡∏ô (‡πÅ‡∏°‡πâ DLIT ‡∏à‡∏∞‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
4. **Mapping ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤**: ‡πÉ‡∏ä‡πâ‡∏õ‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á DLIT ‚Üí Map ‡∏Å‡∏±‡∏ö‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (2568/2)

## Special Case: ‡∏õ‡∏ê‡∏°‡∏ß‡∏±‡∏¢ (Pathomwai)
‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1-3 (DLTV 10-12) ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤ ‡πÅ‡∏ï‡πà‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô **5 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏•‡∏±‡∏Å** ‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:
1. **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Ç‡πà‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå**
2. **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞**
3. **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå** (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏î‡∏∂‡∏á K-P-A)
4. **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå / ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏°‡∏∏‡∏°**
5. **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤**
*‡∏Å‡∏≤‡∏£ Harvest ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á 5 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢*

---

## 7 Steps Specification + Data Mapping

> [!IMPORTANT]
> ‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà harvest ‡πÑ‡∏î‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏•‡∏á‡πÉ‡∏ô 7 Steps ‚Äî ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏Å‡∏´‡∏•‡πà‡∏ô

### Step 1: KNOW (Pre-test) - ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö**: ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö **5 ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏°‡∏≠** ‡∏ó‡∏∏‡∏Å‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- **‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå**: ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- **‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏∏‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏±‡πâ‡∏ô
- **‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô % ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Post-test
- **Aggregation**: ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‚Üí ‡∏´‡πâ‡∏≠‡∏á ‚Üí ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‚Üí ‡πÄ‡∏Ç‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ‚Üí ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏≤‡∏ï‡∏¥
- **ü§ñ AUTO**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏≤‡∏Å Key Keywords ‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ + contentSections + distractor generation
- **Anti-Guessing**: min 5s/q, pattern check, ‡πÑ‡∏°‡πà‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
- **DATA IN**: `quiz[]` (5 ‡∏Ç‡πâ‡∏≠) + `keywords[]` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö distractor)

### Step 2: LINK (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á) - KPA Objectives
- **‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î Badge**: ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô badge ‡πÄ‡∏ä‡πà‡∏ô `‡∏°‡∏ê ‡∏™ 4.2 ‡∏õ. 5/1` (‡πÑ‡∏°‡πà‡∏°‡∏µ label ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ)
- **K (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ)**: ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ Cyan
- **P (‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)**: ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß Green  
- **A (‡πÄ‡∏à‡∏ï‡∏Ñ‡∏ï‡∏¥)**: ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á Purple
- **‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤ DLIT ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡∏™‡πà‡∏ß‡∏ô "‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î/‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ")
- **ü§ñ AUTO**: ‡∏î‡∏∂‡∏á K-P-A ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤ DLIT ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á, ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ A ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏£‡∏¥‡∏ö‡∏ó
- **Anti-Guessing**: min 15s view time
- **DATA IN**: 
  - `indicator` ‚Äî ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î (‡∏°‡∏ê ‡∏Ñ 1.1 ‡∏õ.3/1)
  - `summary` ‚Äî ‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏£‡∏ß‡∏ö‡∏¢‡∏≠‡∏î
  - `objectives.K` ‚Äî ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ
  - `objectives.P` ‚Äî ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞/‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£
  - `objectives.A` ‚Äî ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏à‡∏ï‡∏Ñ‡∏ï‡∏¥
  - `evaluation[]` ‚Äî ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•

### Step 3: DO (‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô) - Video + Content
- **Video**: HLS URL ‡∏à‡∏≤‡∏Å DLTV
- **‡∏™‡∏£‡∏∏‡∏õ**: ‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏£‡∏ß‡∏ö‡∏¢‡∏≠‡∏î
- **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏£‡∏¥‡∏°**: Extract ‡∏à‡∏≤‡∏Å PDF + ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å Internet
- **‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: DLIT + ‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô + Internet
- **ü§ñ AUTO**: 
  1. ‡∏î‡∏∂‡∏á HLS URL ‡∏à‡∏≤‡∏Å video source
  2. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF ‚Üí Extract text ‚Üí contentSections
  3. Web search ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏≠
  4. ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Keywords)
- **Anti-Guessing**: 25% watch min, tab switch penalty
- **DATA IN**: `hlsUrl`, `contentSections[]`, `keywords[]`
- **üñ•Ô∏è UI RENDERING** (`management.js` ‚Üí `renderStepContent()` Step 3):
  - `summary` ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô **KEY POINTS** (‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÉ‡∏ï‡πâ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠)
  - `contentSections[]` ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ** (cards ‡πÉ‡∏ï‡πâ KEY POINTS)
    - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ section ‡πÄ‡∏õ‡πá‡∏ô card: ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç + `title` + `content` + source badge
    - Source badge ‡∏™‡∏µ: `PDF`=amber, `WEB`=sky, `DLTV`=emerald, `AI`=violet
  - ‚ö†Ô∏è ‡∏ñ‡πâ‡∏≤ harvest ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà `contentSections` ‚Üí UI ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏Ñ‡πà summary ‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### Step 4: SYNC (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ) - Interactive Activities
- **‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô**: 80%+
- **Activity Types** (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏î‡∏¢ Activity Matcher ‚Äî ‡∏î‡∏π‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á):
  - `multiple_choice` ‚Äî ‡∏Å ‡∏Ç ‡∏Ñ ‡∏á
  - `fill_in` ‚Äî ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥ / ‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
  - `drag_drop` ‚Äî ‡∏•‡∏≤‡∏Å‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö / ‡∏•‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡πà‡∏≠‡∏á
  - `matching` ‚Äî ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà (‡∏Ñ‡∏≥‚Üî‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢, ‡∏†‡∏≤‡∏û‚Üî‡∏Ñ‡∏≥)
  - `spot_error` ‚Äî ‡∏à‡∏±‡∏ö‡∏ú‡∏¥‡∏î / ‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
  - `sequence` ‚Äî ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
  - `diagram_label` ‚Äî ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏û
  - `calculator` ‚Äî ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (‡∏Ñ‡∏ì‡∏¥‡∏ï‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
  - `canvas_draw` ‚Äî ‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ / ‡∏ß‡∏≤‡∏î‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á
  - `code_block` ‚Äî ‡πÄ‡∏£‡∏µ‡∏¢‡∏á Code (Coding ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
- **ü§ñ AUTO**: Activity Matcher ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å type ‚Üí ‡πÉ‡∏ä‡πâ keywords + contentSections ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
- **Anti-Guessing**: min 10s/activity, random order
- **DATA IN**: `syncActivities[]` (type + data)

### Step 5: REFLECT (‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô) - Practice
- **‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô**: 70%+
- **Priority 1**: ‡πÉ‡∏ö‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å PDF ‡∏ó‡∏µ‡πà Extract ‡πÑ‡∏î‡πâ (‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô)
- **Priority 2**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á‡∏ñ‡πâ‡∏≤ Extract ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- **ü§ñ AUTO**: 
  1. ‡∏î‡∏∂‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏à‡∏≤‡∏Å‡πÉ‡∏ö‡∏á‡∏≤‡∏ô PDF
  2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á Open-ended question ‡∏à‡∏≤‡∏Å K-P-A
  3. ‡πÉ‡∏ä‡πâ Cloze Deletion ‡∏à‡∏≤‡∏Å contentSections
- **Anti-Guessing**: min 8s/q, hint usage penalty
- **DATA IN**: `reflectExercises[]` + `rubric{}` (‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ï‡∏£‡∏ß‡∏à)

### Step 6: AUDIT (Post-test) - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
- **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö**: ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö **5 ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏°‡∏≠** (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Step 1)
- **‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô**: 70%+
- **‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå**: ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô + Self-rating
- **‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Pre-test ‡πÄ‡∏õ‡πá‡∏ô % Growth
- **ü§ñ AUTO**: ‡πÉ‡∏ä‡πâ quiz ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Step 1 (‡πÄ‡∏Å‡πá‡∏ö answers ‡πÅ‡∏¢‡∏Å)
- **Anti-Guessing**: compare with Pre-test, flag if 100% identical
- **DATA IN**: ‡πÉ‡∏ä‡πâ `quiz[]` ‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏≤‡∏Å Step 1

### Step 7: MASTER (‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç) - Mastery Challenge
- **‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô**: 80%+
- **‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö** (‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏ß‡∏¥‡∏ä‡∏≤/‡∏ö‡∏ó):
  1. **Boss Challenge**: ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö 5 ‡∏Ç‡πâ‡∏≠ ‡∏¢‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Pre/Post ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å KPA
  2. **Scenario**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
  3. **Creative**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏™‡∏±‡πâ‡∏ô‡πÜ (‡∏™‡∏£‡∏∏‡∏õ/‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á)
- **ü§ñ AUTO**: 
  1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Scenario ‡∏à‡∏≤‡∏Å contentSections + "‡∏ñ‡πâ‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô..."
  2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å format ‡∏ï‡∏≤‡∏° Activity Matcher
- **Anti-Guessing**: min 15s/q, no hints, strict pattern check
- **DATA IN**: `masterChallenge{}` (type + data + rubric)

---

## üß† Activity Matcher Engine

> [!IMPORTANT]
> Activity Matcher ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡∏ß‡∏¥‡∏ä‡∏≤ + KPA objectives + ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å activity types ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
> ‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á activity ‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏° ‚Äî ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á subject pattern ‡πÄ‡∏™‡∏°‡∏≠

### Subject-Based Priority Matrix

| Subject Type | SYNC Activities (Step 4) | MASTER Format (Step 7) |
|-------------|-------------------------|----------------------|
| `MATH` | `fill_in`, `drag_drop`, `calculator` | Boss Challenge |
| `THAI` / `ENG` | `matching`, `sequence`, `open_ended` | Creative |
| `SCI` | `diagram_label`, `sequence`, `spot_error` | Scenario |
| `SOC` / `HIST` | `multiple_choice`, `matching`, `scenario` | Scenario |
| `ART` | `canvas_draw`, `matching` | Creative |
| `PE` | `sequence`, `multiple_choice` | Scenario |
| `WORK` | `sequence`, `matching`, `fill_in` | Scenario |

### KPA-Based Cross-Subject Rules

```
IF objective.type == 'K' (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ)
  ‚Üí multiple_choice, fill_in, matching
  ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ‡∏ß‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥

IF objective.type == 'P' (‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)
  ‚Üí drag_drop, sequence, diagram_label, canvas_draw, calculator
  ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ‡∏ß‡∏±‡∏î‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

IF objective.type == 'A' (‡πÄ‡∏à‡∏ï‡∏Ñ‡∏ï‡∏¥)
  ‚Üí scenario, open_ended
  ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ‡∏ß‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à/‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏°
```

### Selection Algorithm
```
1. ‡∏î‡∏π subject type ‚Üí ‡πÑ‡∏î‡πâ priority list
2. ‡∏î‡∏π KPA objectives ‚Üí filter ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á K/P/A
3. ‡∏î‡∏π content ‚Üí ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ keywords ‡∏°‡∏≤‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° matching
                  ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ steps/process ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° sequence
                  ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ numbers ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° calculator/fill_in
                  ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ images ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° diagram_label
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2-3 activities ‡∏ó‡∏µ‡πà overlap ‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î
5. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å keywords + contentSections
```

---

## üî¥ Harvest Workflow (6 Phases)

> [!IMPORTANT]
> ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà Harvest ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà **‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å Phase** ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Å‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤

### Phase 1: Extract From DLTV Page
1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô DLTV/DLIT
2. ‡∏î‡∏∂‡∏á Metadata: ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î, K-P-A, ‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç, ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ú‡∏•
3. ‡∏î‡∏∂‡∏á HLS Video URL
4. ‡∏î‡∏∂‡∏á PDF download URLs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
5. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `pedagogicalData`

### Phase 2: Download & Extract PDFs
1. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î **‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô** (PDF/PPT)
2. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î **‡πÉ‡∏ö‡∏á‡∏≤‡∏ô / ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î** (PDF)
3. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î **‡πÉ‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° / ‡πÉ‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ** (PDF)
4. Extract text ‡∏à‡∏≤‡∏Å PDF ‡∏î‡πâ‡∏ß‡∏¢ `pdfjs-dist` ‡∏´‡∏£‡∏∑‡∏≠ `read_url_content`
5. ‡∏ñ‡πâ‡∏≤ PDF ‡πÄ‡∏õ‡πá‡∏ô image-based (0 chars) ‚Üí mark ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Phase 3

> [!NOTE]
> **PDF Types ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á:**
> - ‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö (PPT‚ÜíPDF): text extractable ‚úÖ ‡πÅ‡∏ï‡πà Thai font ‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏õ‡∏•‡∏Å
> - ‡πÉ‡∏ö‡∏á‡∏≤‡∏ô/‡πÉ‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°: ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà text extractable ‚úÖ
> - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ö‡∏≤‡∏á‡∏ä‡∏∏‡∏î: image-based ‚ùå ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏∂‡πà‡∏á Web Search

### Phase 3: Deep Enrichment (Web Search + AI)
1. ‡πÉ‡∏ä‡πâ `search_web` ‡∏Ñ‡πâ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏° topic + grade level:
   - `"{topic} ‡∏õ.{grade} ‡∏™‡∏£‡∏∏‡∏õ"` ‚Üí ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å
   - `"{topic} ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á"` ‚Üí real-world examples
2. ‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏î‡πâ‡∏ß‡∏¢ `read_url_content` ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏•‡∏∂‡∏Å
3. ‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡πâ‡∏≤ `contentSections[]`:
   - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ section ‚â• 50 ‡∏Ñ‡∏≥
   - ‡∏£‡∏∞‡∏ö‡∏∏ source: `'DLTV'`, `'PDF'`, `'WEB'`, `'AI'`
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á `keywords[]` ‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (5-10 ‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)

### Phase 4: Generate Quiz & Activities
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á **Quiz 5 ‡∏Ç‡πâ‡∏≠** ‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:
   - ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° K, P, A
   - ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 4 ‡∏Ç‡πâ‡∏≠ (‡∏Å ‡∏Ç ‡∏Ñ ‡∏á) ‡∏ó‡∏µ‡πà‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•
   - Distractor ‡∏°‡∏≤‡∏à‡∏≤‡∏Å keywords ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á
2. ‡πÉ‡∏ä‡πâ **Activity Matcher** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SYNC activities:
   - ‡∏î‡∏π subject type + KPA ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2-3 types
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å keywords + contentSections
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á **REFLECT exercises** ‡∏à‡∏≤‡∏Å PDF ‡πÉ‡∏ö‡∏á‡∏≤‡∏ô:
   - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ PDF ‚Üí ‡πÉ‡∏ä‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÉ‡∏ö‡∏á‡∏≤‡∏ô
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí Cloze Deletion ‡∏à‡∏≤‡∏Å contentSections
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á **MASTER challenge** ‡∏ï‡∏≤‡∏° subject type:
   - MATH ‚Üí Boss Challenge (5 ‡∏Ç‡πâ‡∏≠‡∏¢‡∏≤‡∏Å)
   - SCI ‚Üí Scenario (‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏î‡∏•‡∏≠‡∏á)
   - SOC ‚Üí Scenario (‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à)
   - ART ‚Üí Creative (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô)
   - THAI/ENG ‚Üí Creative (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô/‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á)

### Phase 5: Prepare Client-Side AI Data
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á `keywords[]` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
   - Fuzzy matching (‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö open-ended)
   - Cloze deletion (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥)
   - Keyword scoring (‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á `rubric{}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
   - ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ï‡∏£‡∏ß‡∏à open-ended (keywords ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ, ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠ keyword)
   - ‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏î‡πâ offline ‡∏î‡πâ‡∏ß‡∏¢ TF-IDF scoring
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á `aiPromptTemplates{}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
   - Gemini API (optional, ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏ô‡πá‡∏ï)
   - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à open-ended
   - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö personalized feedback
   - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI hint/‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ

### Phase 6: Quality Gate & Save
1. **Quality Gate** (‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ö‡∏ó‡∏ñ‡∏±‡∏î‡πÑ‡∏õ):
   - [ ] `contentSections` ‚â• 3 sections
   - [ ] ‡πÅ‡∏ï‡πà‡∏•‡∏∞ section ‚â• 50 ‡∏Ñ‡∏≥
   - [ ] `quiz[]` = exactly 5 ‡∏Ç‡πâ‡∏≠ ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° KPA
   - [ ] `syncActivities[]` ‚â• 2 activities
   - [ ] `keywords[]` ‚â• 5 ‡∏Ñ‡∏≥
   - [ ] `rubric{}` ‡∏°‡∏µ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏£‡∏ö
   - [ ] `objectives` ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö K, P, A
   - [ ] `indicator` ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á
   - [ ] **HTML Tag Integrity**: ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ space ‡πÉ‡∏ô angle brackets (`< div >` ‚ùå ‚Üí `<div>` ‚úÖ) ‚Äî ‡∏î‡∏π Design Guard Iron Rule #12
2. Save to InsForge `lesson_packs` table
3. Log progress: unit X/N complete

---

## üîÑ Auto-Loop Protocol

> [!IMPORTANT]  
> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Batch Harvesting ‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏¥‡∏ä‡∏≤/‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ó‡∏≠‡∏°

```
Input: grade, subjectId, semester
Loop: for each unit in subject (max 20)
  ‚îú‚îÄ‚îÄ Phase 1: Navigate to unit page ‚Üí extract metadata
  ‚îú‚îÄ‚îÄ Phase 2: Download all PDFs ‚Üí extract text
  ‚îú‚îÄ‚îÄ Phase 3: Deep Enrichment (Web Search)
  ‚îú‚îÄ‚îÄ Phase 4: Generate Quiz + Activities (Activity Matcher)
  ‚îú‚îÄ‚îÄ Phase 5: Prepare Client-Side AI Data
  ‚îú‚îÄ‚îÄ Phase 6: Quality Gate ‚Üí Save to InsForge
  ‚îî‚îÄ‚îÄ Log: "[‚úÖ Unit X/N] {lessonName} ‚Äî {contentSections.length} sections, {quiz.length} quiz"
  
After all units:
  ‚îî‚îÄ‚îÄ Summary: "Grade {grade} {subject} Semester {semester}: {N} lessons harvested"
```

---

## ü§ñ 3-Layer AI Model

### Layer 1: Pre-generated (Harvest Time) ‚Äî OFFLINE OK
‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡∏ï‡∏≠‡∏ô harvest ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏∂‡πà‡∏á‡πÄ‡∏ô‡πá‡∏ï‡∏ï‡∏≠‡∏ô runtime:
- Quiz 5 ‡∏Ç‡πâ‡∏≠ + distractors
- SYNC activities (match/fill/drag/etc.)
- contentSections (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏£‡∏¥‡∏°)
- Keywords list
- MASTER challenge
- Rubric (‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ï‡∏£‡∏ß‡∏à)

### Layer 2: Client-Side JS ‚Äî OFFLINE OK
‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÉ‡∏ô browser ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API:
- **Fuzzy Matching**: ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö typo ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
- **Cloze Deletion**: ‡∏•‡∏ö keyword ‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‚Üí ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥
- **Keyword Scoring (TF-IDF)**: ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
- **Sentence Shuffling**: ‡∏™‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö
- **Distractor Generation**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î‡∏à‡∏≤‡∏Å keywords ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á

### Layer 3: Gemini API (Optional) ‚Äî ONLINE
‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡πÄ‡∏ô‡πá‡∏ï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û:
- ‡∏ï‡∏£‡∏ß‡∏à open-ended responses ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- Personalized feedback ("‡πÄ‡∏Å‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô 40% ‡∏à‡∏≤‡∏Å Pre-test!")
- AI Hint/‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î
- "‡∏Ñ‡∏£‡∏π‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå" ‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
- **API**: `gemini-2.0-flash` (free tier: 15 RPM, 1M tokens/day)

---

## Content Sections Structure

```javascript
contentSections: [
    {
        title: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢',
        content: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏ï‡πá‡∏° (‚â•50 ‡∏Ñ‡∏≥)...',
        source: 'PDF' // 'DLTV' | 'PDF' | 'WEB' | 'AI'
    }
]
```

---

## DLIT Page Structure (Reference)

‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô DLIT ‡∏à‡∏∞‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:

| ‡∏™‡πà‡∏ß‡∏ô | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ | ‡πÑ‡∏õ Step |
|------|------------|---------| 
| Sidebar ‡∏Ç‡∏ß‡∏≤ | ‡∏õ‡∏µ/‡∏ä‡∏±‡πâ‡∏ô/‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞/‡∏´‡∏ô‡πà‡∏ß‡∏¢/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á | Metadata |
| Video Player | HLS URL | Step 3 DO |
| ‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏£‡∏ß‡∏ö‡∏¢‡∏≠‡∏î | Summary | Step 2 LINK |
| ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î (‡∏°‡∏ê ‡∏™ 4.2 ‡∏õ.5/1) | Curriculum Standard | Step 2 LINK |
| ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå K-P-A | KPA Objectives | Step 2 LINK |
| ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏• | Evaluation Methods | Step 2 LINK |
| ‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô | PDF/PPT | Step 3 DO, Step 5 REFLECT |

---

## Data Structure Specification

### Full Lesson Pack Object (Required Fields)

```javascript
{
    // === Metadata ===
    id: 'MATH_P3_U01_L01',
    grade: '‡∏õ.3',
    subjectId: 'MATH',
    semester: 1,
    unitNumber: 1,
    lessonName: '‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1,000',
    dltvUrl: 'https://dltv.ac.th/teachplan/episode/92406',
    hlsUrl: 'https://dltv.ac.th/vod/.../master.m3u8',

    // === Step 2: LINK ===
    pedagogicalData: {
        indicator: '‡∏Ñ 1.1 ‡∏õ.3/1',
        summary: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 100 ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á 1,000...',
        objectives: {
            K: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Æ‡∏¥‡∏ô‡∏î‡∏π‡∏≠‡∏≤‡∏£‡∏ö‡∏¥‡∏Å ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠...',
            P: '‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
            A: '‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ß‡πà‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ'
        },
        evaluation: ['‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö', '‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï', '‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏ö‡∏á‡∏≤‡∏ô']
    },

    // === Step 3: DO ===
    contentSections: [
        { title: '‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç', content: '...', source: 'DLTV' },
        { title: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö', content: '...', source: 'PDF' },
        { title: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏£‡∏¥‡∏°', content: '...', source: 'WEB' },
        { title: '‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á', content: '...', source: 'AI' },
        { title: '‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç', content: '...', source: 'AI' }
    ],

    // === Step 1 & 6: KNOW/AUDIT ===
    quiz: [
        {
            question: '‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°...',
            options: ['‡∏Å. ...', '‡∏Ç. ...', '‡∏Ñ. ...', '‡∏á. ...'],
            answer: 1,
            kpaType: 'K'
        }
        // ... ‡∏£‡∏ß‡∏° 5 ‡∏Ç‡πâ‡∏≠ (K ‚â•2, P ‚â•1, A ‚â•1)
    ],

    // === Step 4: SYNC ===
    syncActivities: [
        {
            type: 'matching',  // from Activity Matcher
            data: { pairs: [['‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢ ‡πë‡πí‡πì', '123'], ...] },
            kpaType: 'K'
        },
        {
            type: 'fill_in',
            data: { sentence: '7 ‡πÉ‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏¢ ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ ___', answer: '700' },
            kpaType: 'K'
        }
    ],

    // === Step 5: REFLECT ===
    reflectExercises: [
        {
            type: 'open_ended',
            question: '‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 3 ‡∏´‡∏•‡∏±‡∏Å ‡∏à‡∏≤‡∏Å‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á 3 ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á',
            kpaType: 'A',
            source: 'PDF'  // ‡∏´‡∏£‡∏∑‡∏≠ 'AI'
        }
    ],

    // === Step 7: MASTER ===
    masterChallenge: {
        type: 'boss_challenge', // ‡∏à‡∏≤‡∏Å Activity Matcher
        data: { /* quiz 5 ‡∏Ç‡πâ‡∏≠‡∏¢‡∏≤‡∏Å */ },
        rubric: { /* ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ï‡∏£‡∏ß‡∏à */ }
    },

    // === Client-Side AI Support ===
    keywords: ['‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏´‡∏•‡∏±‡∏Å', '‡∏´‡∏•‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏¢', '‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏¥‡∏ö', '‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢', '‡∏£‡∏π‡∏õ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢'],
    rubric: {
        requiredKeywords: ['‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏´‡∏•‡∏±‡∏Å', '‡∏´‡∏•‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏¢'],
        scoringPerKeyword: 20,
        minScore: 60
    },
    aiPromptTemplates: {
        checkOpenEnded: '‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: {lessonName}\n‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå: {objective}\n‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: {answer}\n‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 0-100 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢',
        giveHint: '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡∏¥‡∏î‡∏ó‡∏µ‡πà: {stuckPoint}\n‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤: {content}\n‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ',
        feedback: 'Pre-test: {preScore}%, Post-test: {postScore}%\n‡∏™‡∏£‡πâ‡∏≤‡∏á feedback ‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à'
    },

    // === Sources ===
    pdfSources: ['https://dltv.ac.th/utils/files/download/180223', ...],
    webSources: ['https://...'],
    harvestDate: '2026-02-18',
    qualityScore: 85  // 0-100
}
```

---

## Anti-Guessing & Behavior Tracking

### Step-Specific Behavior Rules

| Step | ‡∏Å‡∏é‡πÄ‡∏â‡∏û‡∏≤‡∏∞ | Action ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î |
|------|---------|-------------------|
| KNOW | min 5s/q, pattern check | ‚ö†Ô∏è Warning + Lock |
| LINK | min 15s view time | üìâ -2 DISCIPLINE |
| DO | 25% watch, tab switch | üìâ -3 DISCIPLINE |
| SYNC | min 10s/activity | ‚ö†Ô∏è Warning |
| REFLECT | min 8s/q, hint penalty | üìâ -1 LEARNING |
| AUDIT | compare with Pre-test | üö© Flag if identical |
| MASTER | min 15s/q, no hints | üìâ -5 DISCIPLINE |

### Patterns Detected (Auto-Lock 60s)
1. **Same Answer Streak**: ‡∏Å ‡∏Å ‡∏Å ‡∏Å ‡∏Å (5x)
2. **Cyclic Pattern**: ‡∏Å ‡∏Ç ‡∏Ñ ‡∏á ‡∏Å ‡∏Ç ‡∏Ñ ‡∏á
3. **Uniform Timing**: ‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô (¬±0.5s)

### 8 Characteristics Integration
- **DISCIPLINE** (‡∏ß‡∏¥‡∏ô‡∏±‡∏¢) ‚Üê Timing, Pattern
- **LEARNING** (‡πÉ‡∏ù‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ) ‚Üê Watch%, Improvement
- **COMMITMENT** (‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô) ‚Üê Step Completion

---

## Technical Tools
- **PDF Extraction**: `pdfjs-dist` (‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß) ‡∏´‡∏£‡∏∑‡∏≠ `read_url_content` (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PDF)
- **Test Script**: `scripts/test_pdf_reader.cjs`
- **PPT Extraction**: ‡πÅ‡∏õ‡∏•‡∏á PPT ‚Üí PDF ‡∏Å‡πà‡∏≠‡∏ô Extract
- **Web Search**: `search_web` tool
- **AI API** (Optional): Gemini 2.0 Flash (free tier)
