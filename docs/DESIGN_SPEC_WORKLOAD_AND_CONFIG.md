# E-OS Design Spec: Teacher Workload & Smart Config System

> **Status**: Approved Design тАФ Ready for Implementation
> **Date**: 2026-02-12
> **Authors**: User (Director/Architect) + AI Assistant
> **Applies to**: All roles, all schedule-related features

---

## 1. Teacher Workload тАФ 4 Domains (р╕Бр╕Др╕и. р╕з9/2564)

### 1.1 Legal Framework

р╕кр╕│р╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ р╕Бр╕Др╕и. р╕Бр╕│р╕лр╕Щр╕Фр╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│ р╕Хр╕▓р╕б р╕з9/2564 р╣Бр╕ер╕░ р╕з21/2564:

| р╣Ар╕Бр╕Ур╕Ср╣М | р╕Др╣Ир╕▓ | р╕Ыр╕гр╕░р╣Ар╕ар╕Ч |
|-------|-----|--------|
| р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕гр╕зр╕бр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│ | тЙе 20 р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М | ЁЯФТ Hard Rule |
| р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕кр╕нр╕Щр╕Хр╕▓р╕бр╕Хр╕▓р╕гр╕▓р╕Зр╕кр╕нр╕Щ | тЙе 12 р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М | ЁЯФТ Hard Rule |
| р╕Зр╕▓р╕Щр╕нр╕╖р╣Ир╕Щр╣Ж (р╕Фр╣Йр╕▓р╕Щ 2-4) | тЙе 8 р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М | р╕кр╣Ир╕зр╕Щр╣Ар╕лр╕ер╕╖р╕н |
| PLC | тЙе 50 р╕Кр╕б./р╕Ыр╕╡ (тЙИ1 р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М) | ЁЯФТ Hard Rule (р╕Хр╣Ир╕нр╕Ыр╕╡) |

### 1.2 Four Domains of Teacher Workload

```
р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕гр╕зр╕б (тЙе 20 р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М)
тФВ
тФЬтФАтФА р╕Фр╣Йр╕▓р╕Щ 1: р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕кр╕нр╕Щр╕Хр╕▓р╕бр╕Хр╕▓р╕гр╕▓р╕Зр╕кр╕нр╕Щ (тЙе 12 р╕Кр╕б.)
тФВ   тФФтФАтФА р╕Др╕▓р╕Ър╕кр╕нр╕Щр╣Гр╕Щр╕Хр╕▓р╕гр╕▓р╕З, р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Юр╕▒р╕Тр╕Щр╕▓р╕Ьр╕╣р╣Йр╣Ар╕гр╕╡р╕вр╕Щ, р╕ер╕╣р╕Бр╣Ар╕кр╕╖р╕н, р╕Кр╕╕р╕бр╕Щр╕╕р╕б
тФВ
тФЬтФАтФА р╕Фр╣Йр╕▓р╕Щ 2: р╕Зр╕▓р╕Щр╕кр╣Ир╕Зр╣Ар╕кр╕гр╕┤р╕бр╣Бр╕ер╕░р╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Й
тФВ   тФФтФАтФА PLC, р╣Бр╕Ьр╕Щр╕Бр╕▓р╕гр╕кр╕нр╕Щ, р╕зр╕▒р╕Фр╕Ьр╕ер╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕е, р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕╖р╣Ир╕н, р╕Др╕гр╕╣р╕Чр╕╡р╣Ир╕Ыр╕гр╕╢р╕Бр╕йр╕▓/р╣Вр╕ор╕бр╕гр╕╣р╕б
тФВ
тФЬтФАтФА р╕Фр╣Йр╕▓р╕Щ 3: р╕Зр╕▓р╕Щр╕Юр╕▒р╕Тр╕Щр╕▓р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕ир╕╢р╕Бр╕йр╕▓р╕Вр╕нр╕Зр╕кр╕Цр╕▓р╕Щр╕ир╕╢р╕Бр╕йр╕▓
тФВ   тФФтФАтФА р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕Бр╕ер╕╕р╣Ир╕бр╕кр╕▓р╕гр╕░, р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕кр╕▓р╕вр╕Кр╕▒р╣Йр╕Щ, р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕Эр╣Ир╕▓р╕в (р╕Зр╕Ъ/р╕Ър╕╕р╕Др╕Др╕е/р╕зр╕┤р╕Кр╕▓р╕Бр╕▓р╕г), р╕Ыр╕гр╕░р╕Бр╕▒р╕Щ QA
тФВ
тФФтФАтФА р╕Фр╣Йр╕▓р╕Щ 4: р╕Зр╕▓р╕Щр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Щр╣Вр╕вр╕Ър╕▓р╕вр╣Бр╕ер╕░р╕Ир╕╕р╕Фр╣Ар╕Щр╣Йр╕Щ
    тФФтФАтФА р╣Вр╕Др╕гр╕Зр╕Бр╕▓р╕гр╕Юр╕┤р╣Ар╕ир╕й, р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Щр╣Вр╕вр╕Ър╕▓р╕вр╕гр╕▒р╕Рр╕Ър╕▓р╕е, р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б р╕ир╕Ш., р╕кр╕зр╕Фр╕бр╕Щр╕Хр╣М
```

### 1.3 Key Rules

- **р╕Фр╣Йр╕▓р╕Щ 1 (р╕Кр╕б.р╕кр╕нр╕Щ) тЙе 12 р╕Кр╕б. тАФ р╕ер╕Фр╣Др╕бр╣Ир╣Др╕Фр╣Й** р╣Бр╕бр╣Йр╕бр╕╡р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕Юр╕┤р╣Ар╕ир╕йр╕бр╕▓р╕Б
- р╕ар╕▓р╕гр╕░р╕Юр╕┤р╣Ар╕ир╕й (р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕Эр╣Ир╕▓р╕в р╕пр╕ер╕п) р╕Щр╕▒р╕Ър╣Гр╕Щр╕Фр╣Йр╕▓р╕Щ 2-4 **р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕лр╕▒р╕Бр╕ер╕Ър╕Ир╕▓р╕Бр╕Фр╣Йр╕▓р╕Щ 1**
- р╕Др╕гр╕╣р╕Ыр╕Рр╕бр╕зр╕▒р╕в: р╕Кр╕б.р╕кр╕нр╕Щ тЙе 5 р╕Кр╕б. (р╕Бр╕Ор╕Юр╕┤р╣Ар╕ир╕й)
- р╕Ьр╕н.: р╕Кр╕б.р╕Ър╕гр╕┤р╕лр╕▓р╕г тЙе 5 р╕Кр╕б., р╕гр╕нр╕З р╕Ьр╕н.: тЙе 10 р╕Кр╕б.

### 1.4 Alert System

| р╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣М | р╕гр╕░р╕Фр╕▒р╕Ъ | р╕кр╕╡ |
|-----------|-------|-----|
| р╕Фр╣Йр╕▓р╕Щ 1 < 12 р╕Кр╕б. | ЁЯФ┤ CRITICAL | р╣Бр╕Фр╕З тАФ р╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓ р╕Бр╕Др╕и. |
| р╕ар╕▓р╕гр╕░р╕гр╕зр╕б < 20 р╕Кр╕б. | ЁЯЯб WARNING | р╣Ар╕лр╕ер╕╖р╕нр╕З тАФ р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╣Др╕бр╣Ир╕Цр╕╢р╕Зр╣Ар╕Бр╕Ур╕Ср╣М |
| р╕ар╕▓р╕гр╕░р╕гр╕зр╕б тЙе 20 р╕Кр╕б. & р╕Фр╣Йр╕▓р╕Щ 1 тЙе 12 р╕Кр╕б. | ЁЯЯв OK | р╣Ар╕Вр╕╡р╕вр╕з тАФ р╕Ьр╣Ир╕▓р╕Щр╣Ар╕Бр╕Ур╕Ср╣М |

---

## 2. Smart Default + Manual Override Pattern

### 2.1 Core Principle

> **р╕Чр╕╕р╕Бр╕Др╣Ир╕▓р╕Чр╕╡р╣И configurable = р╕бр╕╡ Default р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Ар╕ер╕в + р╕Ьр╕н. toggle р╣Ар╕Ыр╣Зр╕Щ Manual р╣Др╕Фр╣Й**

р╕Хр╕нр╕Ър╣Вр╕Ир╕Чр╕вр╣М:
- р╣Вр╕гр╕Зр╣Ар╕гр╕╡р╕вр╕Щр╕Чр╕╡р╣И **р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Юр╕гр╣Йр╕нр╕б** тЖТ р╕Бр╕Фр╣Гр╕Кр╣Й Default р╣Др╕Фр╣Йр╣Ар╕ер╕в
- р╣Вр╕гр╕Зр╣Ар╕гр╕╡р╕вр╕Щр╕Чр╕╡р╣И **р╕бр╕╡р╕Др╕зр╕▓р╕бр╣Ар╕Йр╕Юр╕▓р╕░** тЖТ р╕Ьр╕н. override р╣Др╕Фр╣Йр╕Чр╕╕р╕Бр╕Ир╕╕р╕Ф

### 2.2 Three Modes

| Mode | р╕Ыр╣Йр╕▓р╕вр╕Бр╕│р╕Бр╕▒р╕Ъ | р╕Ьр╕н. р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Фр╣Й? | р╕Чр╕╡р╣Ир╕бр╕▓р╕Др╣Ир╕▓ |
|------|----------|-----------------|---------|
| `locked` | ЁЯФТ р╕Бр╕Др╕и. / р╕кр╕Юр╕Р. | тЭМ | р╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕Ор╕лр╕бр╕▓р╕в |
| `auto` | тЪЩя╕П Auto | тЬЕ тЖТ manual | р╕Др╣Ир╕▓ default р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ |
| `manual` | тЬПя╕П Manual | тЬЕ | р╕Др╣Ир╕▓р╕Чр╕╡р╣И р╕Ьр╕н. р╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕нр╕З |

### 2.3 Universal Config Schema

р╕Чр╕╕р╕Б configurable item р╣Гр╕Кр╣Й shape р╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ:

```javascript
{
  key: "plc_hours_per_week",        // unique identifier
  label: "р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З PLC",              // display name (TH)
  domain: 2,                        // р╕Фр╣Йр╕▓р╕Щ 1-4 (null if not workload)
  default: 1,                       // smart default value
  value: 1,                         // actual value in use
  mode: "auto",                     // "auto" | "manual" | "locked"
  lockedBy: null,                   // null | "р╕Бр╕Др╕и." | "р╕кр╕Юр╕Р." | "р╕ир╕Ш."
  min: 0,                           // minimum allowed
  max: 5,                           // maximum allowed
  unit: "р╕Кр╕б./р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М",               // display unit
  scope: "teacher",                 // "teacher" | "school" | "system"
  appliesToRoles: ["TEACHER"]       // which roles this config affects
}
```

### 2.4 Config Items Catalog

#### Workload (р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щ)

| Key | Label | Default | Mode | Locked By |
|-----|-------|---------|------|-----------|
| `teaching_min_hours` | р╕Кр╕б.р╕кр╕нр╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│ | 12 | locked | р╕Бр╕Др╕и. |
| `total_workload_min` | р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕гр╕зр╕бр╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕│ | 20 | locked | р╕Бр╕Др╕и. |
| `plc_hours_per_week` | р╕Кр╕б. PLC | 1 | auto | тАФ |
| `homeroom_hours` | р╕Кр╕б.р╕Др╕гр╕╣р╕Ыр╕гр╕░р╕Ир╕│р╕Кр╕▒р╣Йр╕Щ | 1 | auto | тАФ |
| `dept_head_hours` | р╕Кр╕б.р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕Эр╣Ир╕▓р╕в | 3 | auto | тАФ |
| `grade_head_hours` | р╕Кр╕б.р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕кр╕▓р╕вр╕Кр╕▒р╣Йр╕Щ | 2 | auto | тАФ |
| `subject_head_hours` | р╕Кр╕б.р╕лр╕▒р╕зр╕лр╕Щр╣Йр╕▓р╕Бр╕ер╕╕р╣Ир╕бр╕кр╕▓р╕гр╕░ | 2 | auto | тАФ |
| `max_periods_per_week` | р╕Др╕▓р╕Ър╕кр╕╣р╕Зр╕кр╕╕р╕Ф/р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М | 35 | auto | тАФ |
| `max_periods_per_day` | р╕Др╕▓р╕Ър╕кр╕╣р╕Зр╕кр╕╕р╕Ф/р╕зр╕▒р╕Щ | 7 | auto | тАФ |

#### Schedule Structure (р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З)

| Key | Label | Default | Mode | Locked By |
|-----|-------|---------|------|-----------|
| `days_per_week` | р╕Ир╕│р╕Щр╕зр╕Щр╕зр╕▒р╕Щ/р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М | 5 | locked | р╕кр╕Юр╕Р. |
| `periods_per_day` | р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕▓р╕Ъ/р╕зр╕▒р╕Щ | 8 | auto | тАФ |
| `lunch_period` | р╕Др╕▓р╕Ър╕Юр╕▒р╕Бр╣Ар╕Чр╕╡р╣Ир╕вр╕З | 5 | auto | тАФ |

#### Pre-assigned Slots (р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕│р╕лр╕Щр╕Фр╕Хр╕▓р╕вр╕Хр╕▒р╕з)

| Key | Label | Default | Mode |
|-----|-------|---------|------|
| `pray_slot` | р╕кр╕зр╕Фр╕бр╕Щр╕Хр╣М | р╕ир╕╕р╕Бр╕гр╣М р╕Др╕▓р╕Ъ 8 | auto |
| `scout_slot` | р╕ер╕╣р╕Бр╣Ар╕кр╕╖р╕н/р╣Ар╕Щр╕Хр╕гр╕Щр╕▓р╕гр╕╡ | р╕Юр╕╕р╕Ш р╕Др╕▓р╕Ъ 8 | auto |

#### Subjects (р╕зр╕┤р╕Кр╕▓)

| Key | Label | Default | Mode | Locked By |
|-----|-------|---------|------|-----------|
| `core_subjects` | 8 р╕Бр╕ер╕╕р╣Ир╕бр╕кр╕▓р╕гр╕░ | р╕Хр╕▓р╕бр╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕г 2551 | locked | р╕кр╕Юр╕Р. |
| `extra_subjects` | р╕зр╕┤р╕Кр╕▓р╣Ар╕кр╕гр╕┤р╕б | р╕Хр╕▓р╕б data.js | auto | тАФ |
| `activity_subjects` | р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Юр╕▒р╕Тр╕Щр╕▓р╕Ьр╕╣р╣Йр╣Ар╕гр╕╡р╕вр╕Щ | р╕Хр╕▓р╕б data.js | auto | тАФ |
| `periods_per_subject` | р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕▓р╕Ъ/р╕зр╕┤р╕Кр╕▓/р╕гр╕░р╕Фр╕▒р╕Ъ | р╕Хр╕▓р╕бр╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕г | auto | тАФ |

---

## 3. Unity Across Roles тАФ "Same Skeleton, Different Lens"

### 3.1 Principle

> р╕Чр╕╕р╕Бр╣Вр╕гр╕ер╣Ар╕лр╣Зр╕Щ **р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ** р╕Ьр╣Ир╕▓р╕Щ **р╣Ар╕ер╕Щр╕кр╣Мр╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щ**
> Share component тАФ р╣Др╕бр╣Ир╣Гр╕Кр╣И clone page

### 3.2 Shared Components (р╣Гр╕Кр╣Йр╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Щр╕Чр╕╕р╕Бр╣Вр╕гр╕е)

| Component | р╣Гр╕Кр╣Йр╕гр╣Ир╕зр╕б | р╕Ир╕╕р╕Фр╕Чр╕╡р╣Ир╕Хр╣Ир╕▓р╕З |
|-----------|---------|-----------|
| Schedule Grid | CSS Grid, card system, color tokens | Data source (р╕Хр╕▒р╕зр╣Ар╕нр╕З vs р╕Чр╕╕р╕Бр╕Др╕Щ) |
| Workload Bar | 4-domain bar, alerts | Scope (р╕Хр╕▒р╕зр╣Ар╕нр╕З vs р╕лр╣Йр╕нр╕З vs р╣Вр╕гр╕Зр╣Ар╕гр╕╡р╕вр╕Щ) |
| DNA Heatmap | Heatmap structure, color scale | Data granularity |
| Config Panel | Smart Default UI, toggle pattern | Visibility (р╕Ьр╕н. р╣Ар╕лр╣Зр╕Щ config, р╕Др╕гр╕╣р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щ) |
| Card System | `vs-neon`, `--sj-*-rgb` tokens | Content р╣Гр╕Щр╕Бр╕▓р╕гр╣Мр╕Ф |

### 3.3 Role Lens Matrix

| Component | р╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щ | р╕Др╕гр╕╣ | р╕Ьр╕н. | р╕Ьр╕н.р╣Ар╕Вр╕Х |
|-----------|---------|-----|-----|--------|
| Schedule Grid | р╕Хр╕▓р╕гр╕▓р╕Зр╣Ар╕гр╕╡р╕вр╕Щр╕Хр╕▒р╕зр╣Ар╕нр╕З | р╕Хр╕▓р╕гр╕▓р╕Зр╕кр╕нр╕Щр╕Хр╕▒р╕зр╣Ар╕нр╕З | р╕Хр╕▓р╕гр╕▓р╕Зр╕Чр╕╕р╕Бр╕Др╕Щ + AI | Aggregate р╕Чр╕╕р╕Б р╕г.р╕г. |
| Workload Bar | р╕Кр╕б.р╣Ар╕гр╕╡р╕вр╕Щ | р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щ 4 р╕Фр╣Йр╕▓р╕Щ | р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕гр╕зр╕бр╕Чр╕╕р╕Бр╕Др╕гр╕╣ | р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕гр╕зр╕бр╕Чр╕╕р╕Б р╕г.р╕г. |
| Config Panel | тЭМ р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щ | тЭМ р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щ | тЬЕ toggle auto/manual | тЬЕ view only |

### 3.4 Role Accent Color

р╣Гр╕Кр╣Й CSS variable `--role-accent` р╣Ар╕Ыр╣Зр╕Щ accent р╕Чр╕▒р╣Ир╕з UI:
- р╕Чр╕│р╣Гр╕лр╣Й user р╕гр╕╣р╣Йр╕Чр╕▒р╕Щр╕Чр╕╡р╕зр╣Ир╕▓р╕Бр╕│р╕ер╕▒р╕Зр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕бр╕╕р╕бр╕бр╕нр╕Зр╕Вр╕нр╕Зр╣Вр╕гр╕ер╣Др╕лр╕Щ
- Component р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕Вр╕╡р╕вр╕Щр╣Гр╕лр╕бр╣И тАФ р╣Бр╕Др╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ variable

---

## 4. Data Requirements for Auto-Schedule

### 4.1 What the Director Must Provide

| р╕Вр╣Йр╕нр╕бр╕╣р╕е | р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ | р╣Гр╕Др╕гр╕Ър╕гр╕гр╕Ир╕╕ |
|--------|-------------|---------|
| р╕лр╣Йр╕нр╕Зр╣Ар╕гр╕╡р╕вр╕Щ (Classes) | тЬЕ Hardcoded `data.js` | р╕Ьр╕н. р╕Др╕зр╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╣Ир╕▓р╕Щ UI |
| р╕зр╕┤р╕Кр╕▓ (Subjects) | тЬЕ Hardcoded `data.js` (locked core + auto extra) | р╕Ьр╕н. р╕Ыр╕гр╕▒р╕Ъ extra р╣Др╕Фр╣Й |
| р╕Ър╕╕р╕Др╕ер╕▓р╕Бр╕г (Teachers) | тЬЕ Hardcoded `data.js` | р╕Ьр╕н. р╕Др╕зр╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╣Ир╕▓р╕Щ UI |
| р╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щ (Students) | тЭМ р╣Др╕бр╣Ир╕бр╕╡ roster | Engine р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г (р╕Ир╕▒р╕Фр╕Хр╕▓р╕бр╕лр╣Йр╕нр╕З) |
| р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕Юр╕┤р╣Ар╕ир╕й (Workload) | тЭМ р╣Др╕бр╣Ир╕бр╕╡ | р╕Ьр╕н. р╕Бр╕│р╕лр╕Щр╕Фр╕Ьр╣Ир╕▓р╕Щ config |
| Pre-assigned Slots | тЬЕ Hardcoded | р╕Ьр╕н. р╕Ыр╕гр╕▒р╕Ър╣Др╕Фр╣Й (auto тЖТ manual) |

### 4.2 Engine Input Dependencies

```mermaid
graph TD
    A[SchoolConfigService] --> B[TimetableScheduler]
    A --> |classes| B
    A --> |subjects| B
    A --> |teachers| B
    A --> |constraints| B
    A --> |preAssignedSlots| B
    C[ConfigService NEW] --> A
    C --> |workload config| D[Workload Bar Component]
    C --> |schedule structure| A
    B --> |classSchedules| E[Schedule Grid Component]
    B --> |teacherSchedules| E
    B --> |statistics| D
```

---

## 5. Implementation Priority

| Priority | Feature | Effort |
|----------|---------|--------|
| P0 | Workload Bar component (4 domains) | Medium |
| P0 | Config schema + storage | Medium |
| P1 | Director config UI (Smart Default toggle) | Large |
| P1 | Alert system (р╕Бр╕Др╕и. violations) | Small |
| P2 | Director data management (classes, teachers) | Large |
| P3 | Student roster management | Medium |

---

## References

- р╕з9/2564 тАФ р╕лр╕ер╕▒р╕Бр╣Ар╕Бр╕Ур╕Ср╣Мр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Бр╕ер╕░р╕зр╕┤р╕Чр╕вр╕Рр╕▓р╕Щр╕░ р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Др╕гр╕╣
- р╕з21/2564 тАФ р╕ар╕▓р╕гр╕░р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕Вр╣Йр╕▓р╕гр╕▓р╕Кр╕Бр╕▓р╕гр╕Др╕гр╕╣
- р╕з23/2564 тАФ р╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕ер╕Бр╕▓р╕гр╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Зр╕▓р╕Щ
- р╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕гр╣Бр╕Бр╕Щр╕Бр╕ер╕▓р╕З 2551 р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З 2560
